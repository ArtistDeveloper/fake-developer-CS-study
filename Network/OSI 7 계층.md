# OSI 7 계층 (1)

# 개요

### 인터넷이란

 인터넷 이란? International Network 의 합성어 로써 TCP/IP ( Transmission Control Protocol / Internet Protocol ) 을 기반으로 전세계의 네트워크를 하나로 연결 하여 각각 PC가 가지고 있는 자료나 정보를 주고 받을 수 있는 광역 네트워크를 인터넷이라고 한다.

**인터넷에 대해**

- LAN 과 LAN 을 연결 하는 WAN이 서로 다른 WAN 들과 연결 되어 하나의 네트워크를 구성한 
네크워크를 칭한다.
- **ISP ( Internet Service Provider)** 인터넷 액세스, 사용 또는 참여를 위해 다양한 서비스를 제공하는 기관이다.
- 일반적으로 ISP가 제공하는 인터넷 서비스에는 인터넷 액세스 , 인터넷 전송 , 도메인 이름 등록, 웹 호스팅 등이 있다.

---

## 1. **OSI 7 계층 (Open Systems Interconnection)**

- OSI 7 계층은 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것을 말한다.
- 컴퓨터 네트워크 프로토콜 디자인, 통신을 계층으로 나누어 설명한 것이다.
- 각 계층은 하위 계층의 기능만을 이용하고, 상위 계층에게 기능을 제공한다.
- 일반적으로 하위 계층들은 하드웨어로, 상위 계층들은 소프트웨어로 구현된다.

1계층 : 하드웨어, 

2, 3계층 : 하드웨어 + 소프트웨어

4계층~7계층 : 소프트웨어

### **1.1 OSI 7 계층을 나눈이유**

- **계층을 나눈 이유는 통신이 일어나는 과정이 단계별로 파악할 수 있기 때문이다.**
- 이렇게 계층을 나눈 모듈화를 통해 문제가 일어난 곳을 쉽게 파악할 수 있다.

### **7계층, 상하구조가 가지는 문제해결의 용이성**

 모듈이라 하지 않고 계층 또는 계급이라고 한 이유는 상하구조를 가지기 때문이다 .1계층이라는 단어에는 사실, 상위 계층의 프로토콜이 제대로 동작하기 위해서는 하위의 모든 계층에 문제가 없어야 한다는 중요한 의미를 내포하고 있다. 즉 7계층이 제대로 동작하려면 1,2,3,4,5,6계층이 모두 문제가 없어야 한다.

⇒ 물리적 회선 연결이 있어야, 거기에 데이터를 보내지, 물리적 연결도 안되어 있는데 소프트웨어가 동작할 리는 없다. 이렇게 계급을 가지게 됨으로써 문제 해결을 용이하게 해준다.

**결론**

 데이터 흐름을 쉽게 파악하기 위해 계층 하나 하나를 모듈화 시켜 놓고, 조립해서 사용하는 구조이다.

## 2. OSI 7 계층을 보기 전 필요한 용어정리

![Untitled](https://user-images.githubusercontent.com/40491724/128632084-bf05455d-1f80-47aa-abb5-c0d139a4711e.png)

**PDU (Protocol Data Unit)** 

- 프로토콜 데이터 단위로 **같은 계층에서** 교환되는 데이터의 총량이다. (실제 데이터 + 운반수단)
- 같은 계층에 존재하는 두 통신 개체간 (peer-to-peer) 서로 주고 받게되는 헤더(제어정보) 및 데이터(SDU가, Payload)가 합쳐진 캡슐화된 운반체이다. (패킷, 프레임 등)
payload는 data를 뜻함.
- 즉, 해당 계층에서만 처리되는 특정한 헤더를 붙이게 된다.

**PDU의 구성**

- PCI (Protocol Control Unit) : 헤더 정보, 발신지 주소, 수신자 주소, 순서 번호, 오류검출용 FCS 등.
- SDU : 실제 사용자 정보

**SDU (Service Data Unit)**

: 상위 계층이나 하위 계층 사이에 주고 받는 것.

요약하자면 Header는 PCI, 데이터는 SDU이다. 그리고 PDU = PCI + SDU 이다. 

```
  ㅇ통신계층별 PDU의 다른 명칭
     - (링크계층)Layer 2 PDU  ☞프레임(Frame)
     - (망계층)Layer 3 PDU  ☞패킷(Packet)
     - (전송계층)Layer 4 PDU  ☞세그먼트(Segment)
```

**그러면 1계층에서 PDU는 bit인가요?**

: 그것은 아니고, 단지 신호의 흐름일 뿐입니다. PDU는 2, 3, 4계층을 생각하시는 것이 맞습니다.

## 3. OSI 7 계층 단계

![Untitled 1](https://user-images.githubusercontent.com/40491724/128632103-31971173-2f4a-480b-8839-97ba84765d23.png)



### **Encapsulation과 Decapsulation**

![capsul](https://user-images.githubusercontent.com/40491724/128632117-02aa53da-8b69-4e2c-81c3-1fafb2aef178.png)

- 그림을 살펴보면 응용계층에서 내려온 데이터부터 시작해서 계속 헤더가 붙는 것을 알 수 있다. 이 헤더에는 그 계층에 대한 정보가 기록되어있음.
- 우리가 이메일을 보낸다고 가정할때 처음 응용계층에서 헤더를 붙여 하위 계층으로 넘겨준다. 표현계층은 응용계층에서 내려온 헤더와 이메일 데이터를 하나의 데이터로 간주하게 된다. 그래서 다시 자신의 헤더를 붙이게 된다. 이런 과정을 **Encapsulation**이라고 한다.
- 이런식으로 물리계층까지 내려오게 되면 그때부터 0과 1의 이진 비트가 전송되게 되는 것이다.
- 받은 수신자는 거꾸로 물리계층부터 시작해 헤더의 정보를 확인하고 떼어낸다. 그리고 난 후 상위 계층으로 데이터를 전달함, 이렇게 헤더를 떼어내는 과정은 **Decapsulation**이라고 한다.

### **정리**

**Encapsulation**

- 데이터를 전송할 때 각각의 레이어마다 인식할 수 있는 헤더를 붙이는 과정으로 7계층부터 1계층까지 이동하며 헤더가 붙는 것을 의미한다.

**Decapsulation**

- 반대로 1계층에서 7계층까지 올라가며 수신된 데이터가 각각의 레이어를 따라 올라가면서 헤더가 벗겨지는 과정을 의미한다.

---

### **계층 별 PDU**

- 1계층 : bit
- 2계층 : Frames
- 3계층 : Packets
- 4계층 : Segments
- 5~7계층 : Data

**각 계층별 프로토콜 기능**

- 분할 : 큰 용량의 데이터를 전송하기 위해 데이터를 나누는 기능.
- 재조립 : 분할된 데이터를 사용하기 위해 재조립 하는 기능.
- 캡슐화 : 각 계층을 거칠 때 마다 각 계층의 헤더가 계층별로 붙으며, 캡슐화를 진행.
- 순서 제어 : 전송되는 데이터의 순서를 조율하고 이를 통해 데이터가 중복되거나 유실되는지 체크.
- 흐름 제어 : 송신되는 데이터의 양과 전송률을 제한하는 기능
- 오류 제어 : 데이터가 올바르게 수신되었는지 에러 검출 코드를 통해 체크하는 기능.

---

### 7계층 **- 응용 계층(Application Layer)**

- 응용 프로그램 계층은 웹 브라우저 및 이메일 클라이언트와 같은 최종 사용자 소프트웨어에서 사용된다.
- 소프트웨어가 정보를 송수신하고 사용자에게 의미 있는 데이터를 제공할 수 있도록 하는 프로토콜을 제공한다.
- 응용 프로그램 계층 프로토콜의 몇 가지 예는 HTTP(Hypertext Transfer Protocol), FTP(File Transfer Protocol), POP(Post Office Protocol), SMTP(Simple Mail Transfer Protocol) 및 DNS(Domain Name System)이다.

### 6계층 - 표현 계층(Presentation Layer)

- 프레젠테이션 계층은 응용 프로그램 계층에 대한 데이터를 준비한다.
- 두 장치가 **데이터를 인코딩, 암호화 및 압축하여** 다른 쪽 끝에서 올바르게 수신되도록 정의한다.
- 프레젠테이션 계층은 응용 프로그램 계층에서 전송한 모든 데이터를 가져와 세션 계층을 통한 전송을 위해 준비한다.

### 5계층 - 세션 계층(Session Layer)

- 세션 계층은 장치 간에 세션이라고 하는 통신 채널을 생성한다.
- 세션 열기, 데이터가 전송 중 개방 기능 및 기능 유지, 통신이 종료되면 세션을 닫는 역할을 한다.
- 세션 계층은 데이터 전송 중에 체크포인트를 설정할 수도 있다. 세션이 중단되면 장치는 마지막 체크포인트에서 데이터 전송을 재개할 수 있다.

### 4계층 - 전송 계층(Transport Layer)

- 전송 계층은 세션 계층에서 전송된 데이터를 가져와서 전송 측의 "세그먼트"로 나눈다.
- 수신 측에서 세그먼트를 재조립하여 세션 계층에서 사용할 수 있는 데이터로 되돌리는 변환 역할을 한다.
- 전송 계층은 수신 장치의 연결 속도에 맞는 속도로 데이터를 보내는 흐름 제어와 오류 제어를 수행하여 데이터가 잘못 수신되었는지 확인하고 수신되지 않으면 다시 요청한다. (신뢰성)

### 3계층 - 네트워크 계층(Network Layer)

- 네트워크 계층에는 두 가지 주요 기능이 있다.
- 하나는 **세그먼트를 네트워크 패킷으로 분할하고 수신 측에서 패킷을 재조립**하는 것다.
- 다른 하나는 물리적 네트워크에서 **최적의 경로를 찾아 패킷을** **라우팅**하는 것다.
- 네트워크 계층은 네트워크 주소(일반적으로 인터넷 프로토콜 주소)를 사용하여 패킷을 대상 노드로 라우팅한다.

### 2계층 - 데이터 링크 계층(Data Link Layer)

- 데이터 링크 계층은 네트워크에서 물리적으로 연결된 두 노드 간의 연결을 설정하고 종료한다.
- 패킷을 프레임으로 나누고 소스에서 대상으로 보낸다.
- 이 계층은 네트워크 프로토콜을 식별하고 오류 검사를 수행하고 프레임을 동기화하는 LLC(Logical Link Control)와 MAC 주소를 사용하여 장치를 연결하고 데이터 송수신 권한을 정의하는 MAC(Media Access Control)의 두 부분으로 구성됩니다.

### 1계층 - 물리 계층(Physical Layer)

- 물리적 계층은 네트워크 노드 간의 물리적 케이블 또는 무선 연결을 담당한다.
- 기기를 연결하는 커넥터, 전기 케이블 또는 무선 기술을 정의하고 비트 전송률 제어 제어와 함께 단순히 0과 1의 연속인 원시 데이터의 전송을 담당한다.

---

## 4. TCP/IP와 OSI 모델의 차이점

- TCP/IP 프로토콜은 OSI 모델보다 먼저 개발되었다. 그러므로 TCP/IP 프로토콜의 계층은 OSI 모델의 계층과 정확하게 일치하지 않는다.
- 두 계층을 비교할 때 , 세션(Session)과 표현(presentation) 2개의 계층이 TCP/IP프로토콜 그룹에 없다는 것을 알 수 있다.
- 두 모델 모두 계층형 이라는 공통점을 가지고 있으며 TCP/IP는 인터넷 개발 이후 계속 표준화되어 신뢰성이 우수인 반면, OSI 7 Layer는 표준이 되기는 하지만 실제적으로 구현되는 예가 거의 없어 신뢰성이 저하되어있다.
- OSI 7 Layer는 장비 개발과 통신 자체를 어떻게 표준으로 잡을지 사용되는 반면에 실질적인 통신 자체는 TCP/IP 프로토콜을 사용한다.

![Untitled 2](https://user-images.githubusercontent.com/40491724/128632124-30df0e31-4dc8-4dc9-96c6-da3977de3990.png)

---

출처

[http://www.ktword.co.kr/test/view/view.php?m_temp1=310](http://www.ktword.co.kr/test/view/view.php?m_temp1=310)

[https://freloha.tistory.com/20](https://freloha.tistory.com/20)

[https://shlee0882.tistory.com/110](https://shlee0882.tistory.com/110)